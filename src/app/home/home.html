<div class="card">
    {{clients()?.length}} clients
</div>
<div class="asp-list">
    @for (client of clients(); track client.fullName) {
        <div class="asp-list-item call">
            <a [routerLink]="['/client', client.id]">
                <asp-avatar name="{{ client.fullName }}"></asp-avatar>
            </a>
            <a href="tel:{{client.phoneNumber}}" style="width: calc(100% - 55px);">
                <div class="flex-space-between">
                    <div class="name-place">
                        <div class="asp-list-value">
                            {{ client.fullName }}
                        </div>
                        <div class="asp-list-tiny-subtext">
                            {{ client.place }}
                        </div>
                    </div>
                    <div class="titile-right-subtext">
                        {{ client.calls.length + ` Call` + (client.calls.length === 1 ? `` : `s`) }}
                    </div>
                </div>
                <div class="asp-list-subtext">
                    {{ client.calls[0]?.summary }}
                    <span class="asp-list-tiny-subtext">{{client.calls[0]?.timestamp | date}}</span>
                </div>
            </a>
        </div>
    }
</div>
<button class="khata" routerLink="/khata">â‚¹</button>
<button class="add-call" routerLink="/add-call">Add Call Record</button>